(this.webpackJsonpnappulapeli=this.webpackJsonpnappulapeli||[]).push([[0],{13:function(e,t,n){e.exports=n.p+"static/media/Koodarijahti_tunnus.12b65193.svg"},28:function(e,t,n){},29:function(e,t,n){},47:function(e,t,n){e.exports=n.p+"static/media/vincit_logo_red.3fb72115.jpg"},52:function(e,t,n){e.exports=n(98)},58:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},94:function(e,t){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(45),o=n.n(r),l=n(24),i=n.n(l),u=n(46),s=n(8),m=(n(58),n(28),n(29),n(15),n(47)),f=n.n(m),E=n(6),p=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)(!1),m=Object(s.a)(l,2),p=m[0],g=m[1],b=Object(a.useState)(!1),d=Object(s.a)(b,2),v=d[0],h=d[1],O=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://testvinc.herokuapp.com/doesExists?userName="+t);case 2:return n=e.sent,e.next=5,n.status;case 5:200===e.sent?g(!0):h(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!0===p?(localStorage.setItem("USERNAME",r),localStorage.setItem("COUNTER",20),c.a.createElement(E.a,{to:{pathname:"/game",state:{name:r}}})):c.a.createElement("div",{className:"login-clean"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O(r)}},c.a.createElement("img",{src:f.a,alt:"Amazing Vincit Logo"}),v&&c.a.createElement("div",{class:"alert alert-danger"},c.a.createElement("strong",null,"TUNNUS ON OLEMASSA")," Valitse uusi k\xe4ytt\xe4j\xe4tunnus"),c.a.createElement("div",{className:"illustration"}),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"form-control",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){o(e.target.value)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},"Pelaa"))))},g=n(13),b=n.n(g),d=function(){return c.a.createElement("div",{className:"body"},c.a.createElement("img",{src:b.a,alt:"Coding Duck"}),c.a.createElement(p,null))},v=(n(63),n(64),n(65),function(e){var t=e.counter;return c.a.createElement("label",{className:"counter"},t)}),h=n(22),O=n.n(h),N=(n(97),n(50)),S=n(51),j=function(){function e(t,n){Object(N.a)(this,e),console.log("Connection established"),this.socket=O()("wss://testvinc.herokuapp.com/",{query:{name:t,counter:n},reconnection:!0,reconnectionDelay:500,reconnectionAttempts:10})}return Object(S.a)(e,[{key:"getSocket",value:function(){return this.socket}}]),e}(),k=!1,y=function(e){var t=Object(a.useState)(20),n=Object(s.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)(),i=Object(s.a)(l,2),u=i[0],m=i[1];Object(a.useEffect)((function(){console.log("Saving Socket...");var e=f(),t=new j(e,localStorage.getItem("COUNTER"));m(t.getSocket()),o(parseInt(localStorage.getItem("COUNTER")))}),[]),Object(a.useEffect)((function(){localStorage.setItem("COUNTER",r)}),[r]);var f=function(){return localStorage.getItem("USERNAME")};return c.a.createElement("div",{className:"login-clean"},c.a.createElement("div",{className:"container"},c.a.createElement(v,{counter:r}),c.a.createElement("button",{onClick:function(){u.emit("game"),k=!1,u.on("number",(function(e){o(e.playerPoints),!1===k&&(e.points>0?alert("VOITTO"):o(e.playerPoints),k=!0)}))},className:"button"},c.a.createElement("a",{style:{color:"black",outline:0}},"Paina")),c.a.createElement("a",null,f())))},w=function(e){return c.a.createElement("div",{className:"body"},c.a.createElement("img",{src:b.a,alt:"Coding Duck"}),c.a.createElement(y,null))},x=n(23);var C=function(){return c.a.createElement("div",null,c.a.createElement(x.a,null,c.a.createElement(E.d,null,c.a.createElement(E.b,{exact:!0,path:"/",render:function(e){return c.a.createElement(d,e)}}),c.a.createElement(E.b,{exact:!0,path:"/game",render:function(e){return c.a.createElement(w,e)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[52,1,2]]]);
//# sourceMappingURL=main.106be217.chunk.js.map