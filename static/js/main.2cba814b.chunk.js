(this.webpackJsonpnappulapeli=this.webpackJsonpnappulapeli||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/Koodarijahti_tunnus.12b65193.svg"},30:function(e,t,n){},31:function(e,t,n){},49:function(e,t,n){e.exports=n.p+"static/media/vincit_logo_red.3fb72115.jpg"},54:function(e,t,n){e.exports=n(99)},60:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},95:function(e,t){},99:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(48),r=n.n(o),l=n(15),i=n.n(l),s=n(7),u=(n(60),n(30),n(31),n(17),n(49)),m=n.n(u),E=n(5),f=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),o=n[0],r=n[1],l=Object(a.useState)(!1),u=Object(s.a)(l,2),f=u[0],p=u[1],g=Object(a.useState)(!1),b=Object(s.a)(g,2),d=b[0],v=b[1];return!0===f?(localStorage.setItem("USERNAME",o),localStorage.setItem("COUNTER",20),c.a.createElement(E.a,{to:{pathname:"/game",state:{name:o}}})):c.a.createElement("div",{className:"login-clean"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){var t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(fetch("http://testvinc.herokuapp.com/doesExists?userName="+e));case 2:return t=n.sent,n.next=5,i.a.awrap(t.status);case 5:200===n.sent?p(!0):v(!0);case 7:case"end":return n.stop()}}))}(o)}},c.a.createElement("img",{src:m.a,alt:"Amazing Vincit Logo"}),d&&c.a.createElement("div",{class:"alert alert-danger"},c.a.createElement("strong",null,"TUNNUS ON OLEMASSA")," Valitse uusi k\xe4ytt\xe4j\xe4tunnus"),c.a.createElement("div",{className:"illustration"}),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"form-control",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){r(e.target.value)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},"Pelaa"))))},p=n(14),g=n.n(p),b=function(){return c.a.createElement("div",{className:"body"},c.a.createElement("img",{src:g.a,alt:"Coding Duck"}),c.a.createElement(f,null))},d=(n(65),n(66),n(67),function(e){var t=e.counter;return c.a.createElement("label",{className:"counter"},t)}),v=n(25),h=n.n(v),N=(n(98),n(52)),O=n(53),S=function(){function e(t,n){Object(N.a)(this,e),console.log("Connection established"),this.socket=h()("wss://testvinc.herokuapp.com/",{query:{name:t,counter:n},reconnection:!0,reconnectionDelay:500,reconnectionAttempts:10})}return Object(O.a)(e,[{key:"getSocket",value:function(){return this.socket}}]),e}(),j=!1,k=function(e){var t=Object(a.useState)(20),n=Object(s.a)(t,2),o=n[0],r=n[1],l=Object(a.useState)(),i=Object(s.a)(l,2),u=i[0],m=i[1];Object(a.useEffect)((function(){console.log("Saving Socket...");var e=E(),t=new S(e,localStorage.getItem("COUNTER"));m(t.getSocket()),r(parseInt(localStorage.getItem("COUNTER")))}),[]),Object(a.useEffect)((function(){localStorage.setItem("COUNTER",o)}),[o]);var E=function(){return localStorage.getItem("USERNAME")};return c.a.createElement("div",{className:"login-clean"},c.a.createElement("div",{className:"container"},c.a.createElement(d,{counter:o}),c.a.createElement("button",{onClick:function(){u.emit("game"),j=!1,u.on("number",(function(e){r(e.playerPoints),!1===j&&(e.points>0?alert("VOITTO"):r(e.playerPoints),j=!0)}))},className:"button"},c.a.createElement("a",{style:{color:"black",outline:0}},"Paina")),c.a.createElement("a",null,E())))},y=function(e){return c.a.createElement("div",{className:"body"},c.a.createElement("img",{src:g.a,alt:"Coding Duck"}),c.a.createElement(k,null))},w=n(26);var x=function(){return c.a.createElement("div",null,c.a.createElement(w.a,null,c.a.createElement(E.d,null,c.a.createElement(E.b,{exact:!0,path:"/",render:function(e){return c.a.createElement(b,e)}}),c.a.createElement(E.b,{exact:!0,path:"/game",render:function(e){return c.a.createElement(y,e)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.2cba814b.chunk.js.map